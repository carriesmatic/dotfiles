# xterm keys
set-w -g xterm-keys on

# vi copy mode
set-w -g mode-keys vi

# Set prefix key to Ctrl-Space
unbind Space
set -g prefix C-Space

# Start window numbering at 1
set -g base-index 1

# Source theme
if "test -f ~/.tmux.theme.conf" "source ~/.tmux.theme.conf"

# https://sunaku.github.io/tmux-yank-osc52.html
# transfer copied text to attached terminal with yank:
# https://github.com/sunaku/home/blob/master/bin/yank
bind-key -t vi-copy y copy-pipe 'yank > #{pane_tty}'

# transfer copied text to attached terminal with yank:
# https://github.com/sunaku/home/blob/master/bin/yank
bind-key -n M-y run-shell 'tmux save-buffer - | yank > #{pane_tty}'

# transfer previously copied text (chosen from a menu) to attached terminal:
# https://github.com/sunaku/home/blob/master/bin/yank
bind-key -n M-Y choose-buffer 'run-shell "tmux save-buffer -b \"%%\" - | yank > #{pane_tty}"'

# tpm plugins
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-sensible'

# MUST BE AT BOTTOM OF .tmux.conf
if "test ! -d $HOME/.tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm $HOME/.tmux/plugins/tpm'"
run $HOME/.tmux/plugins/tpm/tpm
